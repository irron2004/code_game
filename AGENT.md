# AGENT.md — 코딩 에이전트 작업 지시서

## 프로젝트 개요
- 이름: Algorithm Learning Game (유·초등 최단경로 시뮬레이터)
- 목적: 어린이가 **길 찾기/최단경로** 알고리즘 개념을 게임처럼 학습할 수 있는 **웹 기반** 시각화 도구 제공
- 초기 범위: BFS, Dijkstra, A*의 단계별 시뮬레이션과 **지도(타일)** 편집, 규칙(대각선/가중치) 토글

## 현재 코드 베이스(루트)
```

algorithm-game/
├─ index.html
├─ styles.css
└─ src/
├─ main.js
├─ renderer.js
├─ grid.js
├─ algorithms.js
├─ simulator.js
└─ levels.js

```

## 수행 원칙
1. **브라우저에서 파일만 열어도 실행**되는 구조를 유지(빌드 도구 무필수).  
2. 학습자(어린이) 우선 UX: 큰 클릭 타겟, 단순한 용어, 즉각 피드백.  
3. 알고리즘 시뮬레이션은 **제너레이터 기반(step-by-step)**을 유지하여 재생/일시정지/한 스텝 제어 가능해야 함.  
4. 기능 추가 시 **데이터 드리븐(레벨 JSON)** 원칙을 유지.  
5. 기본적으로 **PII(개인식별정보) 수집 금지**. 저장은 로컬(예: `localStorage`) 우선.

## 금지/제한
- 외부 거대 라이브러리 도입 금지(초기 단계). 필요 시 이슈/PR에서 명시적 제안.
- 무단 추적/쿠키 삽입 금지.  
- 난해한 텍스트 UI 금지(아이 중심 표현 유지).

## 우선순위 작업(스프린트 1)
- [ ] 버그: 레벨 로드/리셋 후 캔버스 리사이즈 동작 보장(반응형 확인)
- [ ] 기능: **레벨 저장/불러오기(JSON)** UI (다운로드/업로드)
- [ ] 기능: **경로 없을 때** 원인 힌트(막힘 구간 강조)
- [ ] 접근성: 키보드 조작(브러시 전환, 재생/일시정지)
- [ ] 품질: `algorithms.js`, `grid.js`에 **단위 테스트** 추가

## 작업 방식
- 브랜치: `feat/<짧은설명>`, `fix/<짧은설명>`, `docs/<짧은설명>`
- 커밋 메시지: `type(scope): subject`
  - 예: `feat(sim): add JSON level import/export`
- PR 체크리스트:
  - [ ] 어린이/교사 관점 안내문 또는 툴팁 추가
  - [ ] 성능 60fps(평균) 유지(중간 그리드, 방문 하이라이트 기준)
  - [ ] 테스트/데모 GIF 1개 포함(선택)
  - [ ] 문서 `/docs` 갱신

## 수용 기준(Definition of Done)
- 기능이 **UI에서 발견·학습 가능**해야 함(힌트/라벨).
- **경계 케이스**(경로 없음/시작=목표/전부 벽) 처리.
- 리그레션 테스트 통과(`npm test` 도입 시).
- 문서/도움말 문구 갱신.

## 로컬 실행 & 테스트(경량)
- 실행: `index.html`을 브라우저로 열기
- 정적 서버(선택): `python -m http.server` 또는 VSCode Live Server
- (권장) 테스트 도입 계획:
  - 도구: **Vitest**(+jsdom, Node ESM)
  - 범위: `grid.neighbors`, BFS/Dijkstra/A* 최단거리 일치성

## 파일/폴더 약속
- `src/`는 **순수 ES 모듈** 유지.
- UI 텍스트/라벨은 `src/i18n_ko.js`(추가 예정)로 분리 계획.
- 레벨 포맷은 `/docs/LEVEL_AUTHORING.md` 참고.

## 품질 바(초기)
- 크로스 브라우저: 최신 Chrome/Edge/Safari 안정 동작.
- 모바일 태블릿 Safari 터치 드래그 가능.
- ESLint(선택) 규칙: no-unused-vars, no-implicit-globals

## 보고
- 중간 산출물: 스크린샷/짧은 캡처(GIF), 레벨 JSON 샘플 포함
- 의사결정: PR 본문에 대안 2가지 이상 비교/선택 근거 요약
